.wrapper {
  display: flex;
  justify-content: center;
  padding: clamp(2rem, 5vw, 4rem) 1.5rem 4rem;
}

.panel {
  width: min(1080px, 100%);
  background:
    radial-gradient(
      200% 260% at -10% -40%,
      color-mix(
        in srgb,
        var(--brand-from, var(--color-brand, #6366f1)) 18%,
        transparent
      ),
      transparent 65%
    ),
    radial-gradient(
      220% 260% at 120% -40%,
      color-mix(
        in srgb,
        var(--brand-mid, var(--color-brand-strong, #4f46e5)) 16%,
        transparent
      ),
      transparent 72%
    ),
    linear-gradient(
      150deg,
      color-mix(in srgb, var(--card-bg-1, rgba(13, 18, 36, 0.92)) 98%, transparent),
      color-mix(in srgb, var(--card-bg-2, rgba(8, 12, 28, 0.86)) 96%, transparent)
    );
  border-radius: var(--card-radius, 24px);
  padding: clamp(2rem, 4vw, 3rem);
  border: 1px solid
    color-mix(in srgb, var(--card-border, var(--color-border, rgba(255, 255, 255, 0.14))) 92%, transparent);
  box-shadow:
    var(--card-shadow, 0 22px 60px rgba(8, 12, 24, 0.55)),
    0 0 0 1px
      color-mix(in srgb, var(--card-border, var(--color-border, rgba(255, 255, 255, 0.14))) 32%, transparent);
  color: var(--text, var(--color-fg, #f8f9ff));
  display: grid;
  grid-template-columns: minmax(130px, 160px) minmax(0, 1fr);
  gap: clamp(0.75rem, 2.4vw, 1.5rem);
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(18px) saturate(150%);
  -webkit-backdrop-filter: blur(18px) saturate(150%);
}

.panel::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  pointer-events: none;
  background:
    radial-gradient(
      260% 280% at 115% -10%,
      color-mix(
        in srgb,
        var(--brand-to, var(--color-accent, #22d3ee)) 13%,
        transparent
      ),
      transparent 78%
    );
  mix-blend-mode: screen;
  opacity: 0.68;
}

.stepper {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  position: relative;
  z-index: 1;
}

.stepTitle {
  font-size: 0.95rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-3, rgba(248, 249, 255, 0.65));
}

.stepList {
  display: grid;
  gap: 1.25rem;
}

.stepItem {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  color: var(--text-3, rgba(248, 249, 255, 0.6));
  font-size: 0.95rem;
  font-weight: 500;
  background: transparent;
  border: none;
  padding: 0;
  text-align: left;
  cursor: pointer;
}

.stepItem[data-active="true"] {
  color: var(--text, #ffffff);
}

.stepBullet {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  border: 2px solid currentColor;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.stepItem[data-active="true"] .stepBullet {
  background: radial-gradient(
    120% 120% at 30% 0%,
    color-mix(
      in srgb,
      var(--brand-from, var(--color-brand, #6366f1)) 40%,
      transparent
    ),
    color-mix(
      in srgb,
      var(--brand-to, var(--color-accent, #22d3ee)) 24%,
      transparent
    )
  );
  box-shadow: 0 0 0 3px
    color-mix(
      in srgb,
      var(--brand-from, var(--color-brand, #6366f1)) 40%,
      transparent
    );
}

.header {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.content {
  display: flex;
  flex-direction: column;
  gap: clamp(1.5rem, 4vw, 2.25rem);
  position: relative;
  z-index: 1;
}

.title {
  font-size: clamp(1.8rem, 3vw, 2.4rem);
  font-weight: 700;
  margin: 0;
  color: var(--text, #ffffff);
}

.form {
  display: grid;
  gap: 1.25rem;
}

.label {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.label span {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--text-2, rgba(248, 249, 255, 0.82));
}

.nameInput {
  background: color-mix(in srgb, var(--surface-overlay, rgba(18, 22, 42, 0.65)) 90%, transparent);
  border: 1px solid
    color-mix(in srgb, var(--color-border, rgba(255, 255, 255, 0.12)) 80%, transparent);
  color: inherit;
  font-size: 1.05rem;
  padding: 0.9rem 1rem;
  border-radius: 16px;
  transition:
    border-color 180ms ease,
    box-shadow 180ms ease,
    background 180ms ease;
}

.nameInput:focus-visible {
  border-color: color-mix(in srgb, var(--color-brand, #2563eb) 65%, transparent);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-brand, #2563eb) 35%, transparent);
  background: color-mix(in srgb, var(--surface-overlay, rgba(32, 38, 70, 0.8)) 96%, transparent);
  outline: none;
}

.chatStack {
  display: grid;
  gap: 1.25rem;
}

.chatLog {
  background: radial-gradient(
      220% 260% at 0% 0%,
      color-mix(in srgb, rgba(32, 44, 92, 0.8) 82%, transparent),
      transparent 72%
    ),
    linear-gradient(
      145deg,
      color-mix(in srgb, rgba(13, 18, 38, 0.96) 96%, transparent),
      color-mix(in srgb, rgba(6, 10, 26, 0.98) 94%, transparent)
    );
  border: 1px solid
    color-mix(in srgb, var(--card-border, rgba(255, 255, 255, 0.1)) 90%, transparent);
  border-radius: 22px;
  padding: clamp(0.9rem, 2.6vw, 1.3rem);
  min-height: clamp(260px, 42vh, 360px);
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 0.85rem;
}

.chatMessage {
  display: flex;
  gap: 0.75rem;
  align-items: flex-start;
  justify-content: flex-start;
}

.chatAvatar {
  display: none;
}

.chatBubble {
  max-width: min(80%, 680px);
  padding: 0.9rem 1.1rem;
  border-radius: 18px;
  border: 1px solid var(--composer-chat-bubble-border, rgba(137, 152, 255, 0.24));
  background: var(
    --composer-chat-bubble-ai-bg,
    linear-gradient(180deg, rgba(21, 28, 64, 0.9), rgba(13, 17, 42, 0.92))
  );
  color: var(--composer-chat-bubble-text, rgba(239, 242, 255, 0.94));
  font-size: 0.96rem;
  line-height: 1.6;
  box-shadow: var(--composer-chat-bubble-shadow, 0 16px 32px rgba(5, 10, 30, 0.36));
  white-space: pre-wrap;
  word-break: break-word;
}

.chatMessage[data-role="user"] .chatBubble {
  margin-left: auto;
  border-color: var(--composer-chat-bubble-user-border, rgba(120, 188, 255, 0.4));
  background: var(
    --composer-chat-bubble-user-bg,
    linear-gradient(125deg, rgba(112, 161, 255, 0.72), rgba(103, 124, 255, 0.78))
  );
  color: var(--composer-rail-tab-active-color, #f7f8ff);
  box-shadow: var(--composer-chat-bubble-user-shadow, 0 18px 40px rgba(58, 109, 255, 0.38));
}

.prompterShell {
  position: relative;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  border-radius: var(--radius-pill, 999px);
  padding: 0.85rem 1.1rem;
  background: linear-gradient(
    180deg,
    var(--glass-bg-1, rgba(255, 255, 255, 0.12)),
    var(--glass-bg-2, rgba(255, 255, 255, 0.06))
  );
  border: 1px solid var(--pill-border, rgba(255, 255, 255, 0.16));
  box-shadow: var(--prompter-bar-shadow, 0 20px 40px rgba(5, 10, 30, 0.35));
  backdrop-filter: blur(var(--glass-blur-strong, 16px)) saturate(var(--glass-saturate, 120%));
  -webkit-backdrop-filter: blur(var(--glass-blur-strong, 16px))
    saturate(var(--glass-saturate, 120%));
}

.prompterShell::before {
  content: "";
  position: absolute;
  inset: -14px;
  border-radius: var(--radius-pill, 999px);
  background: var(--prompter-bar-glow, transparent);
  filter: blur(var(--prompt-glow-blur, 18px));
  opacity: var(--prompt-glow-opacity, 0.4);
  z-index: -1;
}

.chatTextarea {
  width: 100%;
  flex: 1;
  min-height: 48px;
  max-height: 160px;
  resize: none;
  border: none;
  background: transparent;
  color: var(--text, inherit);
  font-size: 0.95rem;
  line-height: 1.6;
  padding: 0;
}

.chatTextarea:focus-visible {
  outline: none;
}

.chatTextarea::placeholder {
  color: var(--text-3, rgba(248, 249, 255, 0.5));
  opacity: 0.8;
}

.prompterActions {
  display: flex;
  align-items: center;
  gap: 0.6rem;
}

.voiceButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 38px;
  height: 38px;
  border-radius: 999px;
  border: 1px solid var(--pill-border, rgba(255, 255, 255, 0.18));
  background: linear-gradient(
    180deg,
    var(--chip-bg-1, rgba(255, 255, 255, 0.12)),
    var(--chip-bg-2, rgba(255, 255, 255, 0.08))
  );
  color: var(--text-2, rgba(248, 249, 255, 0.78));
  box-shadow: var(
    --chip-shadow,
    inset 0 1px 0 rgba(255, 255, 255, 0.18),
    inset 0 -1px 0 rgba(15, 23, 42, 0.7),
    0 10px 22px rgba(5, 10, 30, 0.4)
  );
  cursor: pointer;
  padding: 0;
  transition:
    transform 160ms ease,
    box-shadow 160ms ease,
    opacity 160ms ease,
    background 160ms ease,
    color 160ms ease;
}

.voiceButton svg {
  width: 18px;
  height: 18px;
}

.voiceButton:hover {
  transform: translateY(-1px);
  box-shadow:
    0 18px 32px color-mix(in srgb, var(--color-brand, #6366f1) 26%, rgba(10, 12, 30, 0.6)),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.voiceButton:active {
  transform: scale(0.96);
}

.voiceButton:disabled {
  opacity: 0.55;
  cursor: default;
  transform: none;
  box-shadow: var(
    --chip-shadow,
    inset 0 1px 0 rgba(255, 255, 255, 0.14),
    inset 0 -1px 0 rgba(15, 23, 42, 0.65)
  );
}

.voiceButton[data-active="true"] {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--color-brand, #6366f1) 42%, transparent),
    color-mix(in srgb, var(--color-accent, #22d3ee) 26%, transparent)
  );
  color: var(--text-on-brand, rgba(248, 249, 255, 0.96));
  box-shadow:
    0 20px 40px color-mix(in srgb, var(--color-brand, #6366f1) 34%, rgba(10, 12, 30, 0.7)),
    inset 0 1px 0 rgba(255, 255, 255, 0.35);
}

.voiceButton:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--color-brand, #2563eb) 50%, transparent);
  outline-offset: 2px;
}

.prompterIcon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 12px;
  border: 1px solid var(--icon-plate-border, rgba(255, 255, 255, 0.16));
  background: linear-gradient(
    180deg,
    var(--icon-plate-bg-1, rgba(255, 255, 255, 0.24)),
    var(--icon-plate-bg-2, rgba(255, 255, 255, 0.12))
  );
  color: var(--text-2, rgba(248, 249, 255, 0.75));
  box-shadow: var(--icon-plate-highlight, inset 0 1px 0 rgba(255, 255, 255, 0.4));
}

.prompterIcon svg {
  width: 18px;
  height: 18px;
}

.prompterSend {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  border-radius: 999px;
  border: none;
  background: var(
    --prompter-primary-button-background,
    var(
      --cta-chip-gradient,
      var(--cta-gradient, linear-gradient(120deg, #3b82f6 0%, #2563eb 55%, #22d3ee 100%))
    )
  );
  color: var(--prompter-primary-button-text, var(--cta-button-text, #ffffff));
  box-shadow: var(
    --cta-chip-shadow,
    0 20px 40px color-mix(in srgb, var(--color-brand, #2563eb) 28%, rgba(10, 12, 30, 0.6))
  );
  transition:
    transform 160ms ease,
    box-shadow 160ms ease,
    opacity 160ms ease;
}

.prompterSend:not(:disabled):hover {
  transform: translateY(-1px);
  box-shadow: 0 24px 48px color-mix(in srgb, var(--color-brand, #2563eb) 32%, rgba(10, 12, 30, 0.6));
}

.prompterSend:not(:disabled):active {
  transform: scale(0.96);
  box-shadow: 0 16px 32px
    color-mix(in srgb, var(--color-brand, #2563eb) 28%, rgba(10, 12, 30, 0.65));
}

.prompterSend:disabled {
  opacity: 0.55;
  cursor: default;
  transform: none;
  box-shadow: 0 12px 24px color-mix(in srgb, var(--color-brand, #2563eb) 18%, rgba(10, 12, 30, 0.5));
}

.prompterMeta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.chatStatus {
  font-size: 0.85rem;
  color: var(--text-3, rgba(248, 249, 255, 0.5));
  flex: 1 1 auto;
}

.controls {
  display: flex;
  justify-content: flex-end;
  gap: 0.75rem;
  margin-top: 0.5rem;
}

.error {
  font-size: 0.9rem;
  color: var(--color-danger, #f87171);
}

.chatError {
  font-size: 0.85rem;
  color: var(--color-danger, #f87171);
}

.prompterHint {
  margin: 0;
  font-size: 0.9rem;
  color: var(--text-2, rgba(248, 249, 255, 0.75));
  max-width: 52ch;
}

.membershipSection {
  display: flex;
  flex-direction: column;
  gap: 1.1rem;
}

.membershipIntro {
  margin: 0;
  font-size: 0.95rem;
  color: var(--text-2, rgba(248, 249, 255, 0.82));
  max-width: 52ch;
}

.membershipOptions {
  display: grid;
  gap: 0.75rem;
}

.membershipOption {
  text-align: left;
  border-radius: 16px;
  padding: 0.85rem 0.95rem;
  border: 1px solid
    color-mix(in srgb, var(--card-border, rgba(255, 255, 255, 0.1)) 85%, transparent);
  background: linear-gradient(
    145deg,
    color-mix(in srgb, rgba(24, 32, 70, 0.95) 96%, transparent),
    color-mix(in srgb, rgba(10, 14, 32, 0.98) 94%, transparent)
  );
  box-shadow:
    0 14px 30px rgba(5, 10, 30, 0.45),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
  color: var(--text, #ffffff);
  cursor: pointer;
  display: grid;
  gap: 0.25rem;
}

.membershipOption[data-selected="true"] {
  border-color: color-mix(in srgb, var(--color-brand, #6366f1) 70%, transparent);
  box-shadow:
    0 18px 40px color-mix(in srgb, var(--color-brand, #6366f1) 32%, rgba(5, 10, 30, 0.7)),
    inset 0 1px 0 rgba(255, 255, 255, 0.14);
}

.membershipLabel {
  font-size: 0.95rem;
  font-weight: 600;
}

.membershipDescription {
  font-size: 0.86rem;
  color: var(--text-3, rgba(248, 249, 255, 0.7));
  max-width: 60ch;
}

@media (max-width: 880px) {
  .panel {
    grid-template-columns: 1fr;
  }

  .stepper {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }

  .stepList {
    display: flex;
    gap: 1rem;
  }

  .stepItem {
    flex-direction: column;
    align-items: center;
    font-size: 0.85rem;
  }

  .stepBullet {
    width: 12px;
    height: 12px;
  }

  .prompterMeta {
    align-items: flex-start;
  }
}
