.page { max-width: 1200px; margin: 0 auto; padding: 24px 28px 80px; }
@media (max-width: 640px){ .page{ padding: 24px 0 0; } }

.prompterStage { max-width: 860px; margin: 36px auto 64px; padding: 0; border-radius: 22px; background: transparent; border: none; box-shadow: none; position: relative; z-index: 300; isolation: isolate; }
.prompterStage::before { content: none; }
.prompter { position: relative; z-index: 1; display: grid; gap: 16px; }
@media (max-width: 640px){ .prompterStage{ margin-bottom: 22px; } }
.prompter { display: grid; gap: 16px; }
.promptBar { position:relative; display:flex; align-items:center; gap:10px; border-radius: var(--pill-radius, 999px); padding:12px 14px; background: linear-gradient(180deg, var(--glass-bg-1, rgba(255,255,255,0.10)), var(--glass-bg-2, rgba(255,255,255,0.05))); border:1px solid rgba(255,255,255,0.16); box-shadow: inset 0 1px 0 rgba(255,255,255,0.14), inset 0 -1px 0 rgba(2,6,23,0.40), 0 8px 18px rgba(5,10,30,0.28); backdrop-filter: blur(14px) saturate(130%); -webkit-backdrop-filter: blur(14px) saturate(130%); }
.promptBar::before { content:""; position:absolute; left:-18px; right:-18px; top:-14px; bottom:-14px; border-radius: var(--pill-radius, 999px); pointer-events:none; background:
  radial-gradient(120% 160% at 10% 50%, rgba(99,102,241,.30), transparent 65%),
  radial-gradient(120% 160% at 90% 50%, rgba(124,58,237,.26), transparent 65%),
  radial-gradient(160% 160% at 50% 50%, rgba(56,189,248,.20), transparent 70%);
  filter: blur(var(--prompt-glow-blur, 18px)); opacity: var(--prompt-glow-opacity, .54); z-index: -1; }
.promptBar:focus-within { border-color: rgba(147,197,253,0.5); box-shadow: inset 0 1px 0 rgba(255,255,255,0.20), inset 0 -1px 0 rgba(2,6,23,0.48), 0 14px 28px rgba(5,10,30,0.38); }
.input { flex:1; background:transparent; border:none; color: var(--text); font-size:16px; outline:none; padding:8px 4px; }
.genBtn { display:inline-flex; align-items:center; gap:8px; border-radius:999px; padding:9px 16px; background: var(--cta-button-gradient, var(--cta-gradient)); color: var(--cta-button-text, var(--text-on-brand, #0e1024)); font-weight:700; letter-spacing:.01em; box-shadow: 0 20px 40px rgba(79,70,229,0.38); border: none; position:relative; overflow:hidden; isolation:isolate; transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease; }
.genBtn::before { content:""; position:absolute; inset:-40%; background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.35), transparent 60%); opacity:0; transform: scale(0.6); transition: opacity .2s ease, transform .2s ease; }
.genBtn:hover::before { opacity:1; transform: scale(1); }
.genBtn:hover { transform: translateY(-1px); box-shadow: 0 26px 48px rgba(79,70,229,0.44); }
.genBtn:disabled { opacity:.6; cursor:not-allowed; transform:none; box-shadow: 0 18px 36px rgba(79,70,229,0.32); }

.genBtnNavigate { background: linear-gradient(120deg, #34d399, #22c55e, #0ea5e9); color:#022c1a; box-shadow: 0 18px 36px rgba(34,197,94,0.36); }

.genBtnPost { background: linear-gradient(120deg, #f97316, #fbbf24, #f97316); color:#201203; box-shadow: 0 18px 36px rgba(249,115,22,0.34); }
.genBtnPost:hover { box-shadow: 0 24px 48px rgba(249,115,22,0.44); }

.genBtnStyle { background: linear-gradient(120deg, #22d3ee, #6366f1, #ec4899); color:#0b1120; box-shadow: 0 20px 42px rgba(99,102,241,0.38); }
.genBtnStyle:hover { box-shadow: 0 26px 52px rgba(236,72,153,0.46); }

.genLabel { position: relative; top: 0.5px; font-size:0.95rem; }
.chips { display:flex; flex-wrap:wrap; gap:10px; justify-content:flex-start; padding-left:6px; }
.chip { padding:7px 12px; border-radius:999px; border:1px solid rgba(255,255,255,0.16); background: linear-gradient(180deg, var(--glass-bg-1, rgba(255,255,255,0.08)), var(--glass-bg-2, rgba(255,255,255,0.04))); font-weight:700; color: var(--text); box-shadow: inset 0 1px 0 rgba(255,255,255,0.10), inset 0 -1px 0 rgba(2,6,23,0.38), 0 6px 12px rgba(5,10,30,0.22); }
.chip:hover { border-color: rgba(255,255,255,0.28); background: linear-gradient(180deg, rgba(255,255,255,0.11), rgba(255,255,255,0.05)); }

.intentControls {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:0;
  flex-wrap:wrap;
  position:relative;
  z-index:120;
  margin-top:-8px; /* visually tucks into the prompter pill */
  margin-left:8px;
  margin-right:8px;
  background: transparent;
  border: none;
  box-shadow: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}
@media (max-width: 640px){ .intentControls{ flex-direction:column; align-items:flex-start; gap:8px; padding:0; } }
.attachGroup { display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.attachButton {
  display:inline-flex; align-items:center; gap:8px; padding:7px 14px; border-radius:12px;
  border:none;
  background:
    radial-gradient(60% 100% at 20% 0%, rgba(99,102,241,0.22), transparent 70%),
    linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.05));
  color: var(--text-2);
  font-weight:700; font-size:0.85rem; letter-spacing:0.01em;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.22), 8px 12px 22px rgba(5,10,30,0.30);
  transition: transform .16s ease, border-color .16s ease, background .16s ease, color .16s ease, box-shadow .16s ease;
}
.attachButton:hover {
  transform: translateY(-1px);
  color: var(--text);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.26), 12px 18px 30px rgba(6,10,32,0.38);
}
.attachButton:disabled { opacity:0.55; cursor:not-allowed; transform:none; }
.attachIcon { font-size:1.05rem; line-height:1; filter: drop-shadow(0 2px 4px rgba(79,70,229,0.45)); }
.attachLabel { font-weight:600; }
.attachInput { display:none; }
.attachmentChip { display:inline-flex; align-items:center; gap:6px; padding:5px 10px; border-radius:12px; border:1px solid rgba(255,255,255,0.16); background: linear-gradient(150deg, rgba(39,46,82,0.7), rgba(18,22,46,0.64)); color: #ffffff; font-weight:600; font-size:0.78rem; box-shadow: inset 0 1px 0 rgba(255,255,255,0.18), 6px 10px 18px rgba(5,10,30,0.24); }
.attachmentChip[data-status="uploading"] { color: var(--text-2); }
.attachmentChip[data-status="error"] { border-color: rgba(239,68,68,0.42); color: #fecdd3; background: linear-gradient(150deg, rgba(239,68,68,0.28), rgba(127,29,29,0.32)); }
.attachmentName { max-width: 140px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.attachmentStatus { font-size:0.74rem; opacity:0.75; }
.attachmentStatusError { font-size:0.74rem; color:#fecdd3; }
.attachmentRemove { border:none; background:transparent; color:inherit; font-weight:700; cursor:pointer; padding:0 2px; display:inline-flex; align-items:center; justify-content:center; line-height:1; }
.attachmentRemove:hover { opacity:0.7; }
.intentOverride { position:relative; display:inline-flex; margin-left:auto; z-index:160; }
.intentChip { position:relative; display:inline-flex; align-items:center; gap:8px; padding:7px 12px; border-radius:14px; border:none; background: linear-gradient(150deg, rgba(41,48,92,0.58), rgba(16,20,46,0.68)); color: #ffffff; font-weight:700; font-size:0.82rem; letter-spacing:0.01em; box-shadow: inset 0 1px 0 rgba(255,255,255,0.20), inset 0 -1px 0 rgba(5,8,28,0.52), 10px 14px 24px rgba(5,10,30,0.34); backdrop-filter: blur(18px) saturate(140%); -webkit-backdrop-filter: blur(18px) saturate(140%); transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease, background .18s ease, color .18s ease; }
.intentChip::before { content:""; position:absolute; inset:2px; border-radius:inherit; background: linear-gradient(160deg, rgba(255,255,255,0.12), rgba(255,255,255,0.02)); opacity:0.85; pointer-events:none; }
.intentChip:hover { color: var(--text); transform: translateY(-1px); box-shadow: inset 0 1px 0 rgba(255,255,255,0.24), inset 0 -1px 0 rgba(5,8,28,0.58), 12px 18px 30px rgba(6,10,30,0.40); background: linear-gradient(150deg, rgba(54,66,118,0.62), rgba(24,30,64,0.74)); }
.intentChip:active { transform: translateY(0); }
.intentChipActive { border:none; background: linear-gradient(155deg, rgba(99,102,241,0.46), rgba(37,99,235,0.38)); color: #ffffff; box-shadow: inset 0 1px 0 rgba(255,255,255,0.28), inset 0 -1px 0 rgba(9,12,34,0.55), 14px 22px 36px rgba(53,96,255,0.32); }
.intentCaret { display:inline-flex; align-items:center; font-size:0.7rem; font-weight:600; opacity:0.65; }
.intentMenu { position:absolute; top:calc(100% + 8px); right:0; min-width:220px; display:grid; gap:8px; padding:12px; border-radius:14px; border:1px solid rgba(255,255,255,0.26); background: linear-gradient(180deg, rgba(9,12,32,0.96), rgba(9,12,28,0.88)); box-shadow: 0 22px 44px rgba(5,10,34,0.48); backdrop-filter: blur(22px) saturate(160%); z-index:220; }
.intentMenu button { text-align:left; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.18); background: linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.05)); color: #ffffff; font-weight:700; font-size:0.9rem; }
.intentMenu button:hover { border-color: rgba(255,255,255,0.30); background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.08)); }
@media (max-width: 640px){ .intentOverride{ margin-left:0; width:100%; } }

.layout { margin-top: 18px; display:grid; grid-template-columns: 1fr 320px; gap:18px; align-items:start; }
@media (max-width: 1000px){ .layout{ grid-template-columns: 1fr; } }

.promoRowSpace { grid-column: 1; width: 100%; }
@media (max-width: 1000px){ .promoRowSpace{ max-width: 100%; } }
/* Edge-to-edge promo tiles on small screens (aligned with page padding removal) */
@media (max-width: 640px){ .promoRowSpace{ margin-left: 0; margin-right: 0; } }

.feed { display:grid; gap:16px; }
.card { position: relative; border:1px solid var(--card-border, rgba(255,255,255,0.14)); background: linear-gradient(180deg, var(--card-bg-1, rgba(9,12,32,0.90)), var(--card-bg-2, rgba(9,12,30,0.78))); border-radius: var(--card-radius, 16px); overflow:hidden; box-shadow: inset 0 1px 0 rgba(255,255,255,0.10), inset 0 -1px 0 rgba(2,6,23,0.45), var(--card-shadow, 0 18px 40px rgba(5,10,30,0.35)); backdrop-filter: blur(10px) saturate(120%); -webkit-backdrop-filter: blur(10px) saturate(120%); transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease, background .16s ease; }
@media (max-width: 640px){ .card{ border-radius: 0; border-width: 1px 0; } }
.card::before { content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none; background:
  radial-gradient(120% 90% at 50% -10%, rgba(255,255,255,0.07), rgba(255,255,255,0) 68%),
  linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0));
  opacity: 0; transition: opacity .16s ease; }
.card:hover, .card:focus-within { transform: translateY(-1px); border-color: var(--card-hover-border, rgba(255,255,255,0.22)); box-shadow: inset 0 1px 0 rgba(255,255,255,0.14), inset 0 -1px 0 rgba(2,6,23,0.55), var(--card-hover-shadow, 0 22px 46px rgba(5,10,30,0.45)); background: linear-gradient(180deg, var(--card-hover-bg-1, rgba(14,18,42,0.94)), var(--card-hover-bg-2, rgba(12,16,38,0.84))); }
.card:hover::before, .card:focus-within::before { opacity: 1; }
.cardHead { padding:14px 16px; display:flex; justify-content:space-between; align-items:center; color: var(--text, rgba(255,255,255,0.86)); font-size:14px; background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.03)); border-bottom: 1px solid rgba(255,255,255,0.08); transition: background .16s ease, border-color .16s ease; }
.cardControls { margin-left:auto; display:inline-flex; align-items:center; gap:8px; }
.iconBtn { width:34px; height:34px; display:inline-flex; align-items:center; justify-content:center; border-radius:12px; border:1px solid rgba(255,255,255,0.12); background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04)); color: var(--text-2); font-weight:700; font-size:1rem; transition: transform .14s ease, border-color .16s ease, background .16s ease, color .16s ease; }
.iconBtn:hover { transform: translateY(-1px); border-color: rgba(255,255,255,0.28); background: linear-gradient(180deg, rgba(255,255,255,0.16), rgba(255,255,255,0.06)); color: var(--text); box-shadow: 0 12px 24px rgba(5,10,30,0.24); }
.iconBtn:active { transform: translateY(0); }
.iconBtn svg { width: 20px; height: 20px; }
.iconBtn:disabled { opacity:0.55; cursor:not-allowed; transform:none; }
.iconBtn[aria-expanded="true"] { border-color: rgba(255,255,255,0.28); color: var(--text); }
.iconBtnDelete { border-color: rgba(239,68,68,0.32); color: rgba(239,68,68,0.9); background: linear-gradient(180deg, rgba(239,68,68,0.16), rgba(239,68,68,0.05)); }
.iconBtnDelete:hover { color:#fff; border-color: rgba(239,68,68,0.5); background: linear-gradient(180deg, rgba(239,68,68,0.3), rgba(239,68,68,0.12)); box-shadow: 0 16px 32px rgba(239,68,68,0.28); }
.card:hover .cardHead, .card:focus-within .cardHead { background: linear-gradient(180deg, rgba(255,255,255,0.07), rgba(255,255,255,0.04)); border-bottom-color: rgba(255,255,255,0.12); }
.cardBody { padding: 14px 16px 12px; }
.media { width:100%; max-height:440px; object-fit:cover; display:block; }
.title { font-size:19px; font-weight:800; margin:10px 0 8px; background: linear-gradient(180deg, var(--heading-from), var(--heading-to)); -webkit-background-clip: text; background-clip: text; color: transparent; }
.postText { color: var(--text); line-height: 1.65; font-size: 1.05rem; }
.actions { display:flex; gap:10px; }
.pill { display:inline-flex; align-items:center; gap:6px; padding:7px 12px; border-radius:999px; border:1px solid rgba(255,255,255,0.16); background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04)); font-size: 13px; font-weight:700; color: var(--text); box-shadow: inset 0 1px 0 rgba(255,255,255,0.10), inset 0 -1px 0 rgba(2,6,23,0.40), 0 6px 12px rgba(5,10,30,0.22); transition: transform .12s ease, border-color .16s ease, background .16s ease; }
.pill:hover { transform: translateY(-1px); border-color: rgba(255,255,255,0.26); }
.pill:active { transform: translateY(0); }

/* User meta (name + time) */
.userMeta { display:flex; align-items:center; gap:12px; flex:1; min-width:0; }
.userName { font-weight:800; color: var(--text); letter-spacing:.01em; font-size: 1rem; }
.timestamp { color: var(--text-2); font-weight:600; font-size: .92rem; }

/* Post avatar */
.userNameButton { background: none; border: none; padding: 0; color: var(--link-color, #c7d2fe); font: inherit; font-weight: inherit; letter-spacing: inherit; cursor: pointer; }
.userNameButton:hover { text-decoration: underline; color: #e0e7ff; }
.userNameButton:focus-visible { outline: 2px solid rgba(129,140,248,0.6); outline-offset: 2px; border-radius: 6px; }

.postFriendActions { margin: 6px 0 0 56px; display: flex; gap: 8px; }
.postFriendButton { padding: 6px 12px; border-radius: 999px; border: 1px solid rgba(255,255,255,0.18); background: linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.05)); color: var(--text); font-weight: 700; letter-spacing: .01em; cursor: pointer; }
.postFriendButton:hover { border-color: rgba(255,255,255,0.3); background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.08)); }
.postFriendButton[aria-busy="true"], .postFriendButton:disabled { opacity: .6; cursor: progress; }

.postFriendNotice { margin-bottom: 12px; padding: 10px 12px; border-radius: 12px; border: 1px solid rgba(129,140,248,0.38); background: linear-gradient(180deg, rgba(99,102,241,0.18), rgba(79,70,229,0.08)); color: var(--text); font-weight: 600; text-align: center; }

.avatarWrap { display:inline-flex; width:44px; height:44px; border-radius:50%; overflow:hidden; align-items:center; justify-content:center; box-shadow: 0 4px 14px rgba(5,10,30,0.35); border:1px solid rgba(255,255,255,0.18); background: linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06)); }
.avatarImg { display:block; width:100%; height:100%; object-fit:cover; }
.avatar { width:100%; height:100%; border-radius:50%; background: radial-gradient(100% 100% at 30% 30%, rgba(255,255,255,0.65), rgba(255,255,255,0.12)); }
.separator { opacity:.55; color: var(--text-2); font-weight:700; padding: 0 2px; }

/* Quiet action row  subtle, content-first */
.actionBar { display:flex; align-items:stretch; justify-content:space-between; gap:12px; padding:10px 16px 14px; background: transparent; border-top: 1px solid rgba(255,255,255,0.06); }
.card:hover .actionBar, .card:focus-within .actionBar { border-top-color: rgba(255,255,255,0.12); }
.actionBtn { flex:1; display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px 14px; border-radius:12px; border:1px solid var(--feed-action-border, rgba(255,255,255,0.08)); background: linear-gradient(180deg, var(--feed-action-bg-1, rgba(255,255,255,0.07)), var(--feed-action-bg-2, rgba(255,255,255,0.03))); color: var(--text); font-weight:700; text-align:left; transition: transform .14s ease, border-color .14s ease, background .14s ease, box-shadow .18s ease; }
.actionBtn:hover { transform: translateY(-1px); border-color: var(--feed-action-border-hover, rgba(255,255,255,0.2)); box-shadow: var(--feed-action-shadow-hover, 0 12px 28px rgba(5,10,30,0.28)); }
.actionBtn:active { transform: translateY(0); }
.actionBtn:disabled { opacity:0.6; cursor:not-allowed; transform:none; box-shadow:none; }
.actionBtn:disabled .actionMeta { opacity:0.85; }
.actionMeta { display:flex; align-items:center; gap:10px; }
.actionIcon { display:inline-flex; align-items:center; justify-content:center; width:28px; height:28px; border-radius:12px; border:1px solid var(--icon-plate-border, rgba(255,255,255,0.16)); background: linear-gradient(180deg, var(--icon-plate-bg-1, rgba(255,255,255,0.10)), var(--icon-plate-bg-2, rgba(255,255,255,0.04))); box-shadow: var(--icon-plate-highlight, inset 0 1px 0 rgba(255,255,255,0.18)); color: currentColor; transition: color .18s ease, border-color .18s ease, background .18s ease; }
.actionIcon svg { width: 20px; height: 20px; display:block; }
.actionLabel { font-weight:700; color: var(--text); }
.actionCount { font-size:0.85rem; font-weight:700; color: var(--text-2); text-align:right; min-width:32px; }
.actionBtn[data-variant="like"] .actionIcon { color: #f97316; }
.actionBtn[data-variant="comment"] .actionIcon { color: #38bdf8; }
.actionBtn[data-variant="share"] .actionIcon { color: #facc15; }
.actionBtn[data-variant="like"][data-active="true"] { border-color: rgba(248,113,113,0.55); background: linear-gradient(180deg, rgba(248,113,113,0.20), rgba(248,113,113,0.06)); box-shadow: 0 14px 32px rgba(248,113,113,0.26); }
.actionBtn[data-variant="like"][data-active="true"] .actionIcon { color: #f87171; border-color: rgba(248,113,113,0.55); background: linear-gradient(180deg, rgba(248,113,113,0.30), rgba(248,113,113,0.12)); }
.actionBtn[data-variant="like"][data-active="true"] .actionLabel { color: var(--text); }

.rail { position:sticky; top:80px; align-self:start; }
.connectionTiles { display:grid; gap:18px; }
.connectionTile {
  --tile-bg-base: linear-gradient(160deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
  --tile-border-base: rgba(255,255,255,0.16);
  --tile-text-base: inherit;
  --tile-shadow-base: 0 18px 32px rgba(5,10,30,0.24);
  --tile-icon-bg-base: rgba(255,255,255,0.18);
  --tile-icon-color-base: currentColor;
  --tile-desc-base: var(--text-2);
  --tile-badge-bg-base: rgba(255,255,255,0.90);
  --tile-badge-color-base: var(--text-on-brand, #0e1024);
  --tile-border-hover-base: rgba(255,255,255,0.26);
  --tile-shadow-hover-base: 0 24px 46px rgba(5,10,30,0.32);

  display:flex; flex-direction:column; gap:12px; padding:20px 22px; border-radius:20px;
  border:1px solid var(--tile-border-final, var(--tile-border-base));
  background: var(--tile-bg-final, var(--tile-bg-base));
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.18), var(--tile-shadow-final, var(--tile-shadow-base));
  color: var(--tile-text-final, var(--tile-text-base));
  text-decoration:none;
  transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
}
.connectionTile:hover { transform: translateY(-2px); border-color: var(--tile-border-hover, var(--tile-border-hover-base)); box-shadow: var(--tile-shadow-hover, var(--tile-shadow-hover-base)); }
.connectionTileHeader { display:flex; align-items:center; justify-content:space-between; gap:14px; }
.connectionTileMeta { display:flex; align-items:center; gap:12px; }
.connectionTileIcon { width:42px; height:42px; border-radius:14px; display:flex; align-items:center; justify-content:center; background: var(--tile-icon-bg-final, var(--tile-icon-bg-base)); color: var(--tile-icon-color-final, var(--tile-icon-color-base)); font-size:0; }
.connectionTileIcon .duo { width:28px; height:28px; }
.connectionTileIcon svg { width: 26px; height: 26px; }
.connectionTileTitle { font-weight:800; font-size:1.07rem; }
.connectionTileBadge { display:inline-flex; align-items:center; justify-content:center; padding:4px 10px; min-width:28px; border-radius:999px; font-size:.78rem; font-weight:700; background: var(--tile-badge-bg-final, var(--tile-badge-bg-base)); color: var(--tile-badge-color-final, var(--tile-badge-color-base)); }
.connectionTileDescription { color: var(--tile-desc-final, var(--tile-desc-base)); font-weight:600; font-size:.9rem; line-height:1.55; }
.connectionTile[data-tile="friends"] {
  --tile-bg-final: var(--style-friends-bg, var(--tile-bg-base));
  --tile-border-final: var(--style-friends-border, var(--tile-border-base));
  --tile-text-final: var(--style-friends-text, var(--tile-text-base));
  --tile-shadow-final: var(--style-friends-shadow, var(--tile-shadow-base));
  --tile-icon-bg-final: var(--style-friends-icon-bg, var(--tile-icon-bg-base));
  --tile-icon-color-final: var(--style-friends-icon-color, var(--tile-icon-color-base));
  --tile-desc-final: var(--style-friends-desc, var(--tile-desc-base));
  --tile-badge-bg-final: var(--style-friends-badge-bg, var(--tile-badge-bg-base));
  --tile-badge-color-final: var(--style-friends-badge-color, var(--tile-badge-color-base));
  --tile-border-hover: var(--style-friends-border-hover, var(--tile-border-hover-base));
  --tile-shadow-hover: var(--style-friends-shadow-hover, var(--tile-shadow-hover-base));
}
.connectionTile[data-tile="chats"] {
  --tile-bg-final: var(--style-chats-bg, var(--tile-bg-base));
  --tile-border-final: var(--style-chats-border, var(--tile-border-base));
  --tile-text-final: var(--style-chats-text, var(--tile-text-base));
  --tile-shadow-final: var(--style-chats-shadow, var(--tile-shadow-base));
  --tile-icon-bg-final: var(--style-chats-icon-bg, var(--tile-icon-bg-base));
  --tile-icon-color-final: var(--style-chats-icon-color, var(--tile-icon-color-base));
  --tile-desc-final: var(--style-chats-desc, var(--tile-desc-base));
  --tile-badge-bg-final: var(--style-chats-badge-bg, var(--tile-badge-bg-base));
  --tile-badge-color-final: var(--style-chats-badge-color, var(--tile-badge-color-base));
  --tile-border-hover: var(--style-chats-border-hover, var(--tile-border-hover-base));
  --tile-shadow-hover: var(--style-chats-shadow-hover, var(--tile-shadow-hover-base));
}
.connectionTile[data-tile="requests"] {
  --tile-bg-final: var(--style-requests-bg, var(--tile-bg-base));
  --tile-border-final: var(--style-requests-border, var(--tile-border-base));
  --tile-text-final: var(--style-requests-text, var(--tile-text-base));
  --tile-shadow-final: var(--style-requests-shadow, var(--tile-shadow-base));
  --tile-icon-bg-final: var(--style-requests-icon-bg, var(--tile-icon-bg-base));
  --tile-icon-color-final: var(--style-requests-icon-color, var(--tile-icon-color-base));
  --tile-desc-final: var(--style-requests-desc, var(--tile-desc-base));
  --tile-badge-bg-final: var(--style-requests-badge-bg, var(--tile-badge-bg-base));
  --tile-badge-color-final: var(--style-requests-badge-color, var(--tile-badge-color-base));
  --tile-border-hover: var(--style-requests-border-hover, var(--tile-border-hover-base));
  --tile-shadow-hover: var(--style-requests-shadow-hover, var(--tile-shadow-hover-base));
}
@media (max-width: 1000px){ .rail { display: none; } }

/* Right-rail in-place connections view */
.railConnections { display:grid; gap:10px; }
.railHeaderRow { display:flex; align-items:center; justify-content:flex-start; }
.railBackBtn { width:32px; height:32px; display:inline-flex; align-items:center; justify-content:center; border-radius:999px; border:1px solid var(--pill-border, rgba(255,255,255,.16)); background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04)); color: var(--text); font-weight:800; box-shadow: inset 0 1px 0 rgba(255,255,255,.10), inset 0 -1px 0 rgba(2,6,23,.45); }
.railBackBtn:hover { transform: translateY(-1px); border-color: rgba(255,255,255,.26); }
.railTabs { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; padding: 0; }
.railTab { display:inline-flex; align-items:center; justify-content:flex-start; gap:8px; padding:8px 12px; border-radius:999px; border:1px solid rgba(255,255,255,0.16); background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04)); color: var(--text); font-weight:800; letter-spacing:.01em; box-shadow: inset 0 1px 0 rgba(255,255,255,0.10), inset 0 -1px 0 rgba(2,6,23,0.40), 0 6px 12px rgba(5,10,30,0.18); width: 100%; }
.railTab:hover { border-color: rgba(255,255,255,0.26); transform: translateY(-1px); }
.railTabActive { color: var(--text-on-brand, #0e1024); background: var(--cta-gradient); box-shadow: 0 14px 28px rgba(79,70,229,.32); border-color: transparent; }
.railTabIcon { display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; font-size:0; }
.railTabIcon .duo { width:18px; height:18px; }
.railTabIcon svg { width: 18px; height: 18px; }
.railPanel { margin-top: 2px; }














